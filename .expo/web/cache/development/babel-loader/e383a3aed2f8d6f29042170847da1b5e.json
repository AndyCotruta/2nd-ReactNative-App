{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { NativeWindStyleSheet as _NativeWindStyleSheet } from \"nativewind\";\nimport { StyledComponent as _StyledComponent } from \"nativewind\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { useEffect, useLayoutEffect, useState } from \"react\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nimport { UserIcon, ChevronDownIcon, SearchIcon, AdjustmentIcon } from \"react-native-heroicons/outline\";\nimport AiOutlineDown from \"react-icons/ai\";\nimport HomeScreenHeader from \"../components/HomeScreenHeader\";\nimport SearchComponent from \"../components/SearchComponent\";\nimport BodyComponent from \"../components/BodyComponent\";\nimport client from \"../sanity\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar HomeScreen = function HomeScreen() {\n  var navigation = useNavigation();\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    featuredCategories = _useState2[0],\n    setfeaturedCategories = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    restaurants = _useState4[0],\n    setRestaurants = _useState4[1];\n  var fetchFeaturedCategories = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var response = yield client.fetch(\"*[_type==\\\"featured\\\"] {\\n  ...,\\n  restaurants[]->{\\n    ...,\\n    dishes[]\\n  }\\n}\");\n        if (response) {\n          setfeaturedCategories(response);\n        } else {\n          console.log(\"Error while fetching featured categories\");\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n    return function fetchFeaturedCategories() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var fetchRestaurants = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var response = yield fetch(\"http://localhost:3001/restaurants\");\n        if (response) {\n          var data = yield response.json();\n          console.log(data);\n          setRestaurants(data);\n        } else {\n          console.log(\"Error while fetching\");\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n    return function fetchRestaurants() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  useLayoutEffect(function () {\n    navigation.setOptions({\n      headerShown: false\n    });\n  }, []);\n  useEffect(function () {\n    fetchRestaurants();\n  }, []);\n  return _jsxs(_StyledComponent, {\n    edges: [\"right\", \"left\", \"top\"],\n    style: styles.homescreen,\n    className: \"flex-1 bg-white\",\n    component: SafeAreaView,\n    children: [_jsx(HomeScreenHeader, {}), _jsx(SearchComponent, {}), restaurants.map(function (restaurant) {\n      return _jsx(Text, {\n        children: restaurant.name\n      });\n    }), _jsx(BodyComponent, {\n      featuredCategories: featuredCategories\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  homescreen: {\n    flex: 1,\n    backgroundColor: \"white\"\n  }\n});\nexport default HomeScreen;\n_NativeWindStyleSheet.create({\n  styles: {\n    \"flex\": {\n      \"display\": \"flex\"\n    },\n    \"flex-1\": {\n      \"flexGrow\": 1,\n      \"flexShrink\": 1,\n      \"flexBasis\": \"0%\"\n    },\n    \"bg-white\": {\n      \"backgroundColor\": \"#fff\"\n    }\n  }\n});","map":{"version":3,"names":["useNavigation","useEffect","useLayoutEffect","useState","SafeAreaView","UserIcon","ChevronDownIcon","SearchIcon","AdjustmentIcon","AiOutlineDown","HomeScreenHeader","SearchComponent","BodyComponent","client","HomeScreen","navigation","featuredCategories","setfeaturedCategories","restaurants","setRestaurants","fetchFeaturedCategories","response","fetch","console","log","error","fetchRestaurants","data","json","setOptions","headerShown","styles","homescreen","map","restaurant","name","StyleSheet","create","flex","backgroundColor"],"sources":["/Users/andycotruta/Desktop/2nd-ReactNative-App/screens/HomeScreen.js"],"sourcesContent":["import { useNavigation } from \"@react-navigation/native\";\nimport { useEffect, useLayoutEffect, useState } from \"react\";\nimport { Platform, StatusBar, Text, View } from \"react-native\";\nimport { StyleSheet, Image } from \"react-native\";\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nimport {\n  UserIcon,\n  ChevronDownIcon,\n  SearchIcon,\n  AdjustmentIcon,\n} from \"react-native-heroicons/outline\";\nimport AiOutlineDown from \"react-icons/ai\";\nimport HomeScreenHeader from \"../components/HomeScreenHeader\";\nimport SearchComponent from \"../components/SearchComponent\";\nimport BodyComponent from \"../components/BodyComponent\";\nimport client from \"../sanity\";\n\nconst HomeScreen = () => {\n  const navigation = useNavigation();\n  const [featuredCategories, setfeaturedCategories] = useState([]);\n  const [restaurants, setRestaurants] = useState([]);\n\n  const fetchFeaturedCategories = async () => {\n    try {\n      const response = await client.fetch(`*[_type==\"featured\"] {\n  ...,\n  restaurants[]->{\n    ...,\n    dishes[]\n  }\n}`);\n      if (response) {\n        setfeaturedCategories(response);\n      } else {\n        console.log(\"Error while fetching featured categories\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const fetchRestaurants = async () => {\n    try {\n      const response = await fetch(\"http://localhost:3001/restaurants\");\n      if (response) {\n        const data = await response.json();\n        console.log(data);\n        setRestaurants(data);\n      } else {\n        console.log(\"Error while fetching\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useLayoutEffect(() => {\n    navigation.setOptions({\n      headerShown: false,\n    });\n  }, []);\n\n  useEffect(() => {\n    // fetchFeaturedCategories();\n    fetchRestaurants();\n  }, []);\n\n  return (\n    <SafeAreaView\n      edges={[\"right\", \"left\", \"top\"]}\n      style={styles.homescreen}\n      className=\"flex-1 bg-white\"\n    >\n      {/* ..............Header Component.................. */}\n      <HomeScreenHeader />\n      {/* ..............Search Component.................. */}\n      <SearchComponent />\n      {restaurants.map((restaurant) => (\n        <Text>{restaurant.name}</Text>\n      ))}\n      {/* ..............Body Component.................... */}\n      <BodyComponent featuredCategories={featuredCategories} />\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  homescreen: {\n    flex: 1,\n    backgroundColor: \"white\",\n  },\n});\n\nexport default HomeScreen;\n"],"mappings":";;;;AAAA,SAASA,aAAa,QAAQ,0BAA0B;AACxD,SAASC,SAAS,EAAEC,eAAe,EAAEC,QAAQ,QAAQ,OAAO;AAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAG7D,SAASC,YAAY,QAAQ,gCAAgC;AAC7D,SACEC,QAAQ,EACRC,eAAe,EACfC,UAAU,EACVC,cAAc,QACT,gCAAgC;AACvC,OAAOC,aAAa,MAAM,gBAAgB;AAC1C,OAAOC,gBAAgB;AACvB,OAAOC,eAAe;AACtB,OAAOC,aAAa;AACpB,OAAOC,MAAM;AAAkB;AAAA;AAE/B,IAAMC,UAAU,GAAG,SAAbA,UAAU,GAAS;EACvB,IAAMC,UAAU,GAAGf,aAAa,EAAE;EAClC,gBAAoDG,QAAQ,CAAC,EAAE,CAAC;IAAA;IAAzDa,kBAAkB;IAAEC,qBAAqB;EAChD,iBAAsCd,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA3Ce,WAAW;IAAEC,cAAc;EAElC,IAAMC,uBAAuB;IAAA,6BAAG,aAAY;MAC1C,IAAI;QACF,IAAMC,QAAQ,SAASR,MAAM,CAACS,KAAK,wFAMtC;QACG,IAAID,QAAQ,EAAE;UACZJ,qBAAqB,CAACI,QAAQ,CAAC;QACjC,CAAC,MAAM;UACLE,OAAO,CAACC,GAAG,CAAC,0CAA0C,CAAC;QACzD;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;MACpB;IACF,CAAC;IAAA,gBAjBKL,uBAAuB;MAAA;IAAA;EAAA,GAiB5B;EAED,IAAMM,gBAAgB;IAAA,8BAAG,aAAY;MACnC,IAAI;QACF,IAAML,QAAQ,SAASC,KAAK,CAAC,mCAAmC,CAAC;QACjE,IAAID,QAAQ,EAAE;UACZ,IAAMM,IAAI,SAASN,QAAQ,CAACO,IAAI,EAAE;UAClCL,OAAO,CAACC,GAAG,CAACG,IAAI,CAAC;UACjBR,cAAc,CAACQ,IAAI,CAAC;QACtB,CAAC,MAAM;UACLJ,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;QACrC;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;MACpB;IACF,CAAC;IAAA,gBAbKC,gBAAgB;MAAA;IAAA;EAAA,GAarB;EAEDxB,eAAe,CAAC,YAAM;IACpBa,UAAU,CAACc,UAAU,CAAC;MACpBC,WAAW,EAAE;IACf,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN7B,SAAS,CAAC,YAAM;IAEdyB,gBAAgB,EAAE;EACpB,CAAC,EAAE,EAAE,CAAC;EAEN;IAEI,KAAK,EAAE,CAAC,OAAO,EAAE,MAAM,EAAE,KAAK,CAAE;IAChC,KAAK,EAAEK,MAAM,CAACC,UAAW;IACzB,SAAS,EAAC,iBAAiB;IAAA;IAAA,WAG3B,KAAC,gBAAgB,KAAG,EAEpB,KAAC,eAAe,KAAG,EAClBd,WAAW,CAACe,GAAG,CAAC,UAACC,UAAU;MAAA,OAC1B,KAAC,IAAI;QAAA,UAAEA,UAAU,CAACC;MAAI,EAAQ;IAAA,CAC/B,CAAC,EAEF,KAAC,aAAa;MAAC,kBAAkB,EAAEnB;IAAmB,EAAG;EAAA;AAG/D,CAAC;AAED,IAAMe,MAAM,GAAGK,UAAU,CAACC,MAAM,CAAC;EAC/BL,UAAU,EAAE;IACVM,IAAI,EAAE,CAAC;IACPC,eAAe,EAAE;EACnB;AACF,CAAC,CAAC;AAEF,eAAezB,UAAU;AAAC;EAAA;IAAA;MAAA;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;IAAA;MAAA;IAAA;EAAA;AAAA"},"metadata":{},"sourceType":"module"}